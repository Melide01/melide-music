<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paroles</title>
  <link rel="stylesheet" href="../style.css" />
  <style id="project_style"></style>
  <script defer src="script.js"></script>
</head>

<body>
  <div id="top_bar_nav">
    <a href="../index.html">Retour</a>
    <img src="../assets/mld_logo_all_white.png">
  </div>

  <div class="content center font_quicksand">
    <section>
      <h1 style="font-size: 2em;" id="songTitle"></h1>
      <h2 style="font-size: medium;" id="songArtists"></h2>
      <h3 style="font-size: small;" id="songGenre"></h3>
    </section>

    <section id="lyrics_controls" class="font_quicksand">
      <div class="lyrics_controls_tab" style="flex-grow: 1;">

        <div class="custom-audio-player">
          <img class="backgroundImg">
          <div class="controls">
            <img class="albumcover">
            <img src="../assets/icons/playBtn.png"
              onclick="if (player.isPlaying) {player.stop(); this.src = '../assets/icons/playBtn.png'} else {player.play(player.pausedAt); this.src = '../assets/icons/pauseBtn.png'}">
            <div class="time-bar" 
              onmousedown="isDragging = true; updateVisualProgress(event)"
              onmousemove="if (isDragging) {updateVisualProgress(event)}"
              onmouseup="if (isDragging) {isDragging = false; const newTime = updateVisualProgress(event, true); player.seek(newTime)}"
              onmouseleave="if (isDragging) {isDragging = false; const newTime = updateVisualProgress(event, true); player.seek(newTime)}"
              ontouchstart="isDragging = true; updateVisualProgress(event)"
              ontouchmove="if (isDragging) {updateVisualProgress(event)}"
              ontouchend="if (isDragging) {isDragging = false; const newTime = updateVisualProgress(event, true); player.seek(newTime)}"
              ontouchleave="if (isDragging) {isDragging = false; const newTime = updateVisualProgress(event, true); player.seek(newTime)}"
              >
              <div class="progress"></div>
            </div>
            
          </div>
          <span id="audio_time_text">0:00</span>
        </div>


        <audio id="song_player" ontimeupdate="timeconsole.textContent = this.currentTime;">
          <source src="">
        </audio>
        <p id="timeconsole"></p>
        <div class="toggleLabel">Paroles synchronis√©es : <div class="input_toggle active"
            onclick="toggleClass(this, 'active'); if (this.classList.contains('active')) {isLyricsSync = true} else {isLyricsSync = false}">
          </div>
        </div>
        <div class="toggleLabel">Explications des paroles : <div class="input_toggle active"
            onclick="toggleClass(this, 'active'); if (this.classList.contains('active')) {lyrics_container.classList.remove('no_explanation')} else {lyrics_container.classList.add('no_explanation')}">
          </div>
        </div>
      </div>
      <div class="lyrics_controls_tab">
        <h2>Pistes Audio</h2>
        <div class="toggleLabel">Voix : <div class="input_toggle active"
            onclick="toggleClass(this, 'active'); if (this.classList.contains('active')) {isLyricsSync = true} else {isLyricsSync = false}">
          </div>
        </div>
        <div class="toggleLabel">Batterie : <div class="input_toggle active"
            onclick="toggleClass(this, 'active'); if (this.classList.contains('active')) {isLyricsSync = true} else {isLyricsSync = false}">
          </div>
        </div>
        <div class="toggleLabel">Autres : <div class="input_toggle active"
            onclick="toggleClass(this, 'active'); if (this.classList.contains('active')) {isLyricsSync = true} else {isLyricsSync = false}">
          </div>
        </div>
      </div>
    </section>

    <section id="lyrics_container" class="font_quicksand">
    </section>
    <br><br><br><br><br><br><br><br><br><br><br><br>
  </div>
</body>

</html>